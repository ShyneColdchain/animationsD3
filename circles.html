<!DOCTYPE html>
<meta charset="utf-8">
<title>Trial Animation</title>
<style>

body {
	background-color: hsla(292, 100%, 79%, 0.4);
	font: sans-serif;
}

footer {
	position: absolute;
	font: 10px sans-serif;
}

</style>
<body>
<script src="http://d3js.org/d3.v3.min.js"></script>

<script>

/* d3 code */ 

var margin = {top: 20, right: 30, bottom: 30, left: 40},
	widthTrue = 960,
	heightTrue = 500,
    width = widthTrue - margin.left - margin.right,
    height = heightTrue - margin.top - margin.bottom
	padding = 30;
	
var x = d3.scale.linear()
    .domain([0, 100])
    .range([0, width]);

var y = d3.scale.linear()
    .domain([0, 100])
    .range([height, 0]);
	
// construct circles 
/*var jsonCircles = [ 
	{ "x": 50, "y": 50, "r": 20, "color" : "red"},
	{ "x": 150, "y": 150, "r": 20, "color" : "purple"},
	{ "x": 350, "y": 350, "r": 20, "color" : "blue"},
	{ "x": 75, "y": 75, "r": 20, "color" : "blue"},
	{ "x": 175, "y": 175, "r": 20, "color" : "white"},
	{ "x": 250, "y": 450, "r": 20, "color" : "pink"},
	{ "x": 400, "y": 50, "r": 20, "color": "darkblue"}
];*/

// randomly generate circles 

var rando = 500; // number of circles 
console.log(rando);

var randX = [];
var randY = [];
var i;

for (i = 0; i < rando; i++) { 
	var newX = Math.round(Math.random() * width);
	var newY = Math.round(Math.random() * height); // fill screen
	randX.push(newX);
	randY.push(newY);
}

// plan circles 
var data = {
	"randX" : randX,
	"randY" : randY
};

// svg canvas to build on 	
var canvas = d3.select("body").append("svg")
	.attr("width", width + margin.left + margin.right)
	.attr("height", height + margin.top + margin.bottom);

// construct circles 
var circle = canvas.selectAll("circle")
		//.data(randX)
		//.data([216, 58], function(d) { return d; });
		.data(randX, function(d) { return d; });
		
	circle
		.enter()
		.append("circle")
		.attr("cx", function (d) { 
			return (Math.random() * (widthTrue - padding * 1.2)) 
			+ padding / 2; })
		.attr("cy", function(d) { 
			return (Math.random() * (heightTrue - padding * 1.2)) 
			+ padding / 2; })
		//.attr("cy", function (d, i) { return i; })
		.attr("r", function (d) { return Math.sqrt(d) * 0.5; })
		//.style("fill", function (d) { return d.color; })
		.style("fill", "purple");
		
	// expand circle r - animation
	circle
		.on("click", function (d) { 
			d3.select(this)
			.transition()
			.duration(5000)
			.attr("r", 50); });
			//.attr("r", d.r * 3); });
			


</script>

<h2>Click each circle to enlarge</h2>

<p>500 randomly generated circles with randomly generated sizes (radius).</p>

<footer>
	<aside>Oct, 16, 2014 - Oliver Muellerklein</aside>
</footer>





